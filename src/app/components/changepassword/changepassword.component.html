<form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="currentPassword">Old Password</label>
    <input
      type="password"
      id="currentPassword"
      formControlName="currentPassword"
    />
    <div
      *ngIf="
        formControls['currentPassword'].invalid &&
        formControls['currentPassword'].touched
      "
      class="error"
    >
      Old Password is required and must be at least 4 characters long.
    </div>
  </div>

  <div class="form-group">
    <label for="newPassword">New Password</label>
    <input type="password" id="newPassword" formControlName="newPassword" />
    <div
      *ngIf="
        formControls['newPassword'].invalid &&
        formControls['newPassword'].touched
      "
      class="error"
    >
      New Password is required and must be at least 4 characters long.
    </div>

    <div
      *ngIf="
        formControls['newPassword'].touched &&
        formControls['newPassword'].valid &&
        formControls['newPassword'].value ===
          formControls['currentPassword'].value
      "
      class="error"
    >
      New Password must be different from the Old Password.
    </div>
  </div>

  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input
      type="password"
      id="confirmPassword"
      formControlName="confirmPassword"
    />
    <div
      *ngIf="
        formControls['confirmPassword'].invalid &&
        formControls['confirmPassword'].touched
      "
      class="error"
    >
      Confirm Password is required and must be at least 4 characters long.
    </div>

    <div
      *ngIf="
        formControls['confirmPassword'].value !==
        formControls['newPassword'].value
      "
      class="error"
    >
      Confirm Password must match the New Password.
    </div>
  </div>

  <button type="submit" [disabled]="changePasswordForm.invalid">
    Change Password
  </button>
</form>
